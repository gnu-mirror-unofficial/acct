<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html401/loose.dtd">

<html>
<!-- Created on February, 6 2010 by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->

<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org">

  <title>Accounting Utilities Manual: 3. last</title>
  <meta name="description" content=
  "Accounting Utilities Manual: 3. last">
  <meta name="keywords" content=
  "Accounting Utilities Manual: 3. last">
  <meta name="resource-type" content="document">
  <meta name="distribution" content="global">
  <meta name="Generator" content="texi2html 1.76">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii">
  <style type="text/css">
<!--
  a.summary-letter {text-decoration: none}
  pre.display {font-family: serif}
  pre.format {font-family: serif}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: serif; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: serif; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.sansserif {font-family:sans-serif; font-weight:normal;}
  ul.toc {list-style: none}
  -->
  </style>
  <style type="text/css">
body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  span.c8 {font-size: 80%}
  a.c7 {font-style: italic}
  </style>
</head>

<body lang="en">
  <a name="last" id="last"></a> <a name="SEC13" id="SEC13"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href=
      "accounting_3.html#SEC12" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC14" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_3.html#SEC11" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting.html#SEC1" title="Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_5.html#SEC18" title="Next chapter">&gt;&gt;</a>
      ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href=
      "accounting.html#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href=
      "accounting_toc.html#SEC_Contents" title=
      "Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_abt.html#SEC_About" title="About (help)">?</a>
      ]</td>
    </tr>
  </table>

  <h1 class="chapter">3. <code>last</code></h1>

  <p><code>last</code> looks through the <code>wtmp</code> file
  (which records all logins/logouts) and prints information about
  connect times of users. Records are printed from most recent to
  least recent. Records can be specified by tty and username. tty
  names can be abbreviated: <samp>`last 0'</samp> is equivalent to
  <samp>`last tty0'</samp>.</p>

  <p>Multiple arguments can be specified: <samp>`last root
  console'</samp> will print all of the entries for the user
  <code>root</code> and all entries logged in on the
  <code>console</code> tty.</p>

  <p>The special users <code>reboot</code> and
  <code>shutdown</code> log in when the system reboots or
  (surprise) shuts down. <samp>`last reboot'</samp> will produce a
  record of reboot times.</p>

  <p>If <code>last</code> is interrupted by a quit signal, it
  prints out how far its search in the <code>wtmp</code> file had
  reached and then quits:</p>

  <table>
    <tr>
      <td>&nbsp;</td>

      <td>
        <pre class="example">
weerapan  ttyq6    132.162.32.37    Mon Feb 15 19:07 - 19:21  (00:13)
weerapan  ttyq6    132.162.32.37    Mon Feb 15 19:07 - 19:21  (00:13)

interrupted at Mon Feb 15 19:07:52 1993
</pre>
      </td>
    </tr>
  </table>
  <hr size="6">
  <a name="SEC14" id="SEC14"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC15" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_5.html#SEC18" title="Next chapter">&gt;&gt;</a>
      ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href=
      "accounting.html#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href=
      "accounting_toc.html#SEC_Contents" title=
      "Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_abt.html#SEC_About" title="About (help)">?</a>
      ]</td>
    </tr>
  </table>

  <h2 class="section">3.1 Flags</h2>

  <p>This program implements the features of regular u*x
  <code>last</code> with a few extra flags. When <code>last</code>
  is invoked with no arguments, the output looks like this:</p>

  <table>
    <tr>
      <td>&nbsp;</td>

      <td>
        <pre class="example">
gr151     ttyp2    ray.cs.oberlin.e Tue Feb 16 17:40   still logged in
jhoggard  ttyp2    csts.cs.oberlin. Tue Feb 16 17:39 - 17:39  (00:00)
jstarr    ttyp1    UNIX5.ANDREW.CMU Tue Feb 16 17:38   still logged in
jberman   ttypb    132.162.32.25    Tue Feb 16 17:34   still logged in
alee      ttyp7    csts.cs.oberlin. Tue Feb 16 17:34   still logged in
jbrick    ttyp2    ocvaxa.cc.oberli Tue Feb 16 17:33 - 17:36  (00:03)
mbastedo  ttypc    ocvaxa.cc.oberli Tue Feb 16 17:25 - 17:26  (00:01)
rgoodste  ttypb    ocvaxa.cc.oberli Tue Feb 16 17:22 - 17:26  (00:03)
huttar    ttyp9    lobby.ti.com     Tue Feb 16 17:19   still logged in
klutz     ttyp3    132.162.32.25    Tue Feb 16 17:14   still logged in
</pre>
      </td>
    </tr>
  </table>

  <dl compact="compact">
    <dt><code>--no-truncate-ftp-entries</code></dt>

    <dd>
      <p>When printing out the information, don't chop the number
      part off of <code>ftp</code><var>xxxx</var> entries.</p>
    </dd>

    <dt><code>-<var>number</var></code></dt>

    <dt><code>-n <var>number</var></code></dt>

    <dt><code>--lines <var>number</var></code></dt>

    <dd>
      <p>Limit the number of lines that <code>last</code>
      prints.</p>
    </dd>

    <dt><code>-f <var>filename</var></code></dt>

    <dt><code>--file <var>filename</var></code></dt>

    <dd>
      <p>Read from the file <var>filename</var> instead of the
      system's <code>wtmp</code> file.</p>
    </dd>

    <dt><code>-y</code></dt>

    <dt><code>--print-year</code></dt>

    <dd>
      <p>Print out the year when displaying dates.</p>
    </dd>

    <dt><code>-s</code></dt>

    <dt><code>--print-seconds</code></dt>

    <dd>
      <p>Print out seconds when displaying dates and durations.</p>
    </dd>

    <dt><code>--complain</code></dt>

    <dd>
      <p>When the <code>wtmp</code> file has a problem (a
      time-warp, missing record, or whatever), print out an
      appropriate error.</p>
    </dd>

    <dt><code>-x</code></dt>

    <dt><code>--more-records</code></dt>

    <dd>
      <p>Print out run level changes, shutdowns, and time changes
      in addition to the normal records.</p>
    </dd>

    <dt><code>-a</code></dt>

    <dt><code>--all-records</code></dt>

    <dd>
      <p>Print out all records in the <code>wtmp</code> file.</p>
    </dd>

    <dt><code>-i</code></dt>

    <dt><code>--ip-address</code></dt>

    <dd>
      <p>Some machines store the IP address of a connection in a
      utmp record. Enabling this option makes <code>last</code>
      print the IP address instead of the hostname.</p>
    </dd>

    <dt><code>--tw-leniency <var>value</var></code></dt>

    <dd>
      <p>Set the time warp leniency value (in seconds). See the
      <code>ac</code> chapter for information.</p>
    </dd>

    <dt><code>--tw-suspicious <var>value</var></code></dt>

    <dd>
      <p>Set the time warp suspicious value (in seconds). See the
      <code>ac</code> chapter for information.</p>
    </dd>

    <dt><code>-w</code></dt>

    <dt><code>--wide</code></dt>

    <dd>
      <p>By default, <code>last</code> tries to print each entry
      within in 80 columns. Use this option to instruct
      <code>last</code> to print out the fields in the
      <code>wtmp</code> file with full field widths.</p>
    </dd>

    <dt><code>--debug</code></dt>

    <dd>
      <p>Print verbose internal information.</p>
    </dd>

    <dt><code>-V</code></dt>

    <dt><code>--version</code></dt>

    <dd>
      <p>Print <code>last</code>'s version number.</p>
    </dd>

    <dt><code>-h</code></dt>

    <dt><code>--help</code></dt>

    <dd>
      <p>Print <code>last</code>'s usage string and default
      locations of system files to standard output.</p>
    </dd>
  </dl>
  <hr size="6">
  <a name="SEC15" id="SEC15"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC14" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC16" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_5.html#SEC18" title="Next chapter">&gt;&gt;</a>
      ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href=
      "accounting.html#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href=
      "accounting_toc.html#SEC_Contents" title=
      "Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_abt.html#SEC_About" title="About (help)">?</a>
      ]</td>
    </tr>
  </table>

  <h2 class="section">3.2 Problems</h2>
  <hr size="6">
  <a name="SEC16" id="SEC16"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC15" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC17" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC15" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_5.html#SEC18" title="Next chapter">&gt;&gt;</a>
      ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href=
      "accounting.html#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href=
      "accounting_toc.html#SEC_Contents" title=
      "Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_abt.html#SEC_About" title="About (help)">?</a>
      ]</td>
    </tr>
  </table>

  <h4 class="unnumberedsubsubsec">The Clock Change Problem</h4>

  <p>Of the <code>last</code>s I've tried, all of them have had
  problems parsing a system clock change. Instead of modifying the
  entries that have been read, they just ignore the change and give
  you incorrect values. GNU <code>last</code> knows about clock
  changes and prints the correct times.</p>

  <p><strong>TANGIBLE RESULT:</strong> if you <code>diff</code> the
  output of your <code>last</code> and GNU <code>last</code>,
  entries after (before, rather) a clock change will be off by the
  amount of the clock change.</p>
  <hr size="6">
  <a name="SEC17" id="SEC17"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC16" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_5.html#SEC18" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC15" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_5.html#SEC18" title="Next chapter">&gt;&gt;</a>
      ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href=
      "accounting.html#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href=
      "accounting_toc.html#SEC_Contents" title=
      "Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_abt.html#SEC_About" title="About (help)">?</a>
      ]</td>
    </tr>
  </table>

  <h4 class="unnumberedsubsubsec">The Ftp Problem</h4>

  <p>Most <code>last</code>s that I've examined have the same
  problem here as <code>ac</code> does--they log everyone out as
  soon as they see an ftp entry.</p>

  <p><strong>TANGIBLE RESULT:</strong> GNU <code>last</code> will
  reflect the correct time spent in an ftp session, so the totals
  that it gives will most likely be greater than those given by the
  system <code>last</code>.</p>
  <hr size="6">

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_5.html#SEC18" title="Next chapter">&gt;&gt;</a>
      ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href=
      "accounting.html#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href=
      "accounting_toc.html#SEC_Contents" title=
      "Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_abt.html#SEC_About" title="About (help)">?</a>
      ]</td>
    </tr>
  </table>

  <p><span class="c8">This document was generated on <i>February, 6
  2010</i> using <a class="c7" href=
  "http://texi2html.cvshome.org/">texi2html
  1.76</a>.</span><br></p>
</body>
</html>
