<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html401/loose.dtd">

<html>
<!-- Created on February, 6 2010 by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->

<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org">

  <title>Accounting Utilities Manual: A Note on File Names and
  Locations</title>
  <meta name="description" content=
  "Accounting Utilities Manual: A Note on File Names and Locations">
  <meta name="keywords" content=
  "Accounting Utilities Manual: A Note on File Names and Locations">
  <meta name="resource-type" content="document">
  <meta name="distribution" content="global">
  <meta name="Generator" content="texi2html 1.76">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii">
  <style type="text/css">
<!--
  a.summary-letter {text-decoration: none}
  pre.display {font-family: serif}
  pre.format {font-family: serif}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: serif; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: serif; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.sansserif {font-family:sans-serif; font-weight:normal;}
  ul.toc {list-style: none}
  -->
  </style>
  <style type="text/css">
body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  span.c2 {font-size: 80%}
  a.c1 {font-style: italic}
  </style>
</head>

<body lang="en">
  <a name="SEC2" id="SEC2"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href=
      "accounting.html#SEC1" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC3" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href=
      "accounting.html#SEC1" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting.html#SEC1" title="Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_2.html#SEC5" title="Next chapter">&gt;&gt;</a>
      ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href=
      "accounting.html#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href=
      "accounting_toc.html#SEC_Contents" title=
      "Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_abt.html#SEC_About" title="About (help)">?</a>
      ]</td>
    </tr>
  </table>

  <h2 class="unnumberedsec">A Note on File Names and Locations</h2>

  <p>The <code>wtmp</code> and <code>acct</code> files seem to live
  in different places and have different names for every variant of
  u*x that exists. The name <code>wtmp</code> seems to be standard
  for the login accounting file, but the process accounting file
  might be <code>acct</code> or <code>pacct</code> on your system.
  To find the actual locations and names of these files on your
  system, specify the <code>--help</code> flag to any of the
  programs in this package and the information will dumped to
  standard output.</p>

  <p>Regardless of the names and locations of files on your system,
  this manual will refer to the login accounting file as
  <code>wtmp</code> and the process accounting files as
  <code>acct</code>, <code>savacct</code>, and
  <code>usracct</code>.</p>
  <hr size="6">
  <a name="SEC3" id="SEC3"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC2" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC4" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href=
      "accounting.html#SEC1" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting.html#SEC1" title="Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_2.html#SEC5" title="Next chapter">&gt;&gt;</a>
      ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href=
      "accounting.html#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href=
      "accounting_toc.html#SEC_Contents" title=
      "Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_abt.html#SEC_About" title="About (help)">?</a>
      ]</td>
    </tr>
  </table>

  <h2 class="unnumberedsec">Support for Multiple Accounting File
  Formats under Linux</h2>

  <p>The detailed format of the <code>acct</code> file written by
  the Linux kernel varies depending on the kernel's version and
  configuration: Linux kernels 2.6.7 and earlier write a v0 format
  <code>acct</code> file which unfortunately cannot store user and
  group ids (<code>uid</code>/<code>gid</code>) larger than 65535.
  Kernels 2.6.8 and later write the <code>acct</code> file in v1,
  v2 or v3 formats. (v3 if <code>BSD_PROCESS_ACCT_V3</code> is
  selected in the kernel configuration, otherwise v1 if on the m68k
  architecture or v2 everywhere else).</p>

  <p>Since version 6.4 the GNU accounting utilities on Linux
  systems are able to read all of the v0, v2 and v3 file formats
  (v1 is not supported). Thus you do not need to worry about the
  details given above. You can even read <code>acct</code> files
  where different records were written by differently configured
  kernels (you can find out about the format of each entry by using
  the <code>dump-acct</code> utility). In case you ever need to
  convert an <code>acct</code> file to a different format, the
  <code>--raw</code> option of <code>dump-acct</code> does that
  together with the new <code>--format</code> and
  <code>--byteswap</code> options that determine format and byte
  order of the output file.</p>

  <p>Multiformat support under Linux is intended to be a temporary
  solution to aid in switching to the v3 <code>acct</code> file
  format. So do not expect GNU acct 6.7 to still contain
  Multiformat support. In a few years time, when everybody uses the
  v3 format, the ability to read multiple formats at runtime will
  probably be dropped again from the GNU accounting utilities. This
  does not, however, affect the ability to adapt to the
  <code>acct</code> file format at compile time (when
  <code>./configure</code> is run). Even GNU acct 6.3.5 (that does
  not know about multiple file formats) will yield working binary
  programs when compiled under a (as yet hypothetical) Linux kernel
  2.6.62 that is only able to write the v3 format.</p>
  <hr size="6">
  <a name="SEC4" id="SEC4"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC3" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_2.html#SEC5" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href=
      "accounting.html#SEC1" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting.html#SEC1" title="Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_2.html#SEC5" title="Next chapter">&gt;&gt;</a>
      ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href=
      "accounting.html#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href=
      "accounting_toc.html#SEC_Contents" title=
      "Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_abt.html#SEC_About" title="About (help)">?</a>
      ]</td>
    </tr>
  </table>

  <h2 class="unnumberedsec">History of the Accounting
  Utilities</h2>

  <p>I don't have any idea who originally wrote these utilities. If
  anybody does, please send some mail to
  <code>noel@gnu.ai.mit.edu</code> and I'll add your information
  here!</p>

  <p>Since the first alpha versions of this software in late 1993,
  many people have contributed to the package. They are (in
  alphabetical order):</p>

  <dl compact="compact">
    <dt><code>Eric Backus &lt;ericb@lsid.hp.com&gt;</code></dt>

    <dd>
      <p>Suggested fixes for HP-UX 9.05 using /bin/cc: configure
      assumed you were using <code>gcc</code> and tacked on
      <code>-Wall</code> etc. He also noticed that
      <code>file_rd.c</code> was doing pointer arithmetic on a
      <code>void *</code> pointer (non-ANSI).</p>
    </dd>

    <dt><code>Christoph Badura
    &lt;bad@flatlin.ka.sub.org&gt;</code></dt>

    <dd>
      <p>Christoph was a BIG HELP in computing statistics, most
      notably k*sec stuff! He also did Xenix testing and
      contributed some Makefile fixes and output optimizations.</p>
    </dd>

    <dt><code>Michael Calwas
    &lt;calwas@ttd.teradyne.com&gt;</code></dt>

    <dd>
      <p>Fixed bugs in mktime.c.</p>
    </dd>

    <dt><code>Derek Clegg &lt;dclegg@apple.com&gt;</code></dt>

    <dd>
      <p>Suggested the simple, elegant fix for *_rd_never_used
      brain-damage.</p>
    </dd>

    <dt><code>Alan Cox &lt;iiitac@pyr.swan.ac.uk&gt;</code></dt>

    <dd>
      <p>Original Linux kernel accounting patches.</p>
    </dd>

    <dt><code>Scott Crosby
    &lt;root@hypercube.res.cmu.edu&gt;</code></dt>

    <dd>
      <p>Suggested idea behind <code>--sort-real-time</code> for
      <code>sa</code>.</p>
    </dd>

    <dt><code>Solar Designer &lt;solar@false.com&gt;</code></dt>

    <dd>
      <p>Added code for <code>--ahz</code> flag in
      <code>lastcomm</code> and <code>sa</code>.</p>
    </dd>

    <dt><code>Dirk Eddelbuettel
    &lt;edd@miles.econ.queensu.ca&gt;</code></dt>

    <dd>
      <p>Managed bug-fixes &amp; etc. for Debian distribution, as
      well as the architect of merge of GNU + Debian distributions.
      A big thanks to Dirk for kicking me back into gear again
      after a long period of no work on this project.</p>
    </dd>

    <dt><code>Jason Grant
    &lt;jamalcol@pc-5530.bc.rogers.wave.ca&gt;</code></dt>

    <dd>
      <p>Identified a buffer-overrun bug in <code>sa</code>.</p>
    </dd>

    <dt><code>Kaveh R. Ghazi
    &lt;ghazi@caip.rutgers.edu&gt;</code></dt>

    <dd>
      <p>Tested the package on many systems with compilers other
      than gcc. Fixed K&amp;R C support.</p>
    </dd>

    <dt><code>Susan Kleinmann &lt;sgk@sgk.tiac.net&gt;</code></dt>

    <dd>
      <p>Contributed excellent man pages!</p>
    </dd>

    <dt><code>Alexander Kourakos
    &lt;Alexander@Kourakos.com&gt;</code></dt>

    <dd>
      <p>Inspired the <code>--wide</code> option for
      <code>last</code>.</p>
    </dd>

    <dt><code>Marek Michalkiewicz
    &lt;marekm@i17linuxb.ists.pwr.wroc.pl&gt;</code></dt>

    <dd>
      <p>Suggested the <code>--ip-address</code> flag for
      <code>last</code>.</p>
    </dd>

    <dt><code>David S. Miller
    &lt;davem@caip.rutgers.edu&gt;</code></dt>

    <dd>
      <p>Noticed missing GNU-standard makefile rules.</p>
    </dd>

    <dt><code>Walter Mueller
    &lt;walt@pi4.informatik.uni-mannheim.de&gt;</code></dt>

    <dd>
      <p>Noticed install target was missing, and corrected a typo
      for prefix in Makefile.in.</p>
    </dd>

    <dt><code>Ian Murdock
    &lt;imurdock@gnu.ai.mit.edu&gt;</code></dt>

    <dd>
      <p>Tracked down miscellaneous bugs in sa.c under Linux. Added
      Debian package maintenance files.</p>
    </dd>

    <dt><code>Tuomo Pyhala &lt;tuomo@lesti.kpnet.fi&gt;</code></dt>

    <dd>
      <p>Reported buggy <code>--strict-match</code> flag in
      <code>lastcomm</code>.</p>
    </dd>

    <dt><code>Tim Schmielau
    &lt;tim@physik3.uni-rostock.de&gt;</code></dt>

    <dd>
      <p>Added Linux multiformat support.</p>
    </dd>

    <dt><code>Luc I. Suryo
    &lt;root@patriots.nl.mugnet.org&gt;</code></dt>

    <dd>
      <p>Suggested the <code>--user</code> flag for
      <code>lastcomm</code>.</p>
    </dd>

    <dt><code>Pedro A M Vazquez
    &lt;vazquez@iqm.unicamp.br&gt;</code></dt>

    <dd>
      <p>Fixed bugs in sa.c and tested under FreeBSD.</p>
    </dd>

    <dt><code>Marco van Wieringen
    &lt;Marco.van.Wieringen@mcs.nl.mugnet.org&gt;</code></dt>

    <dd>
      <p>Modified (wrote?) Linux kernel accounting patches.</p>
    </dd>
  </dl>
  <hr size="6">

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href=
      "accounting.html#SEC1" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_2.html#SEC5" title="Next chapter">&gt;&gt;</a>
      ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href=
      "accounting.html#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href=
      "accounting_toc.html#SEC_Contents" title=
      "Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href=
      "accounting_abt.html#SEC_About" title="About (help)">?</a>
      ]</td>
    </tr>
  </table>

  <p><span class="c2">This document was generated on <i>February, 6
  2010</i> using <a class="c1" href=
  "http://texi2html.cvshome.org/">texi2html
  1.76</a>.</span><br></p>
</body>
</html>
