<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html401/loose.dtd">

<html>
<!-- Created on February, 6 2010 by texi2html 1.76 -->
<!--
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people <dev@texi2html.cvshome.org>
Send bugs and suggestions to <users@texi2html.cvshome.org>

-->

<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org">

  <title>Accounting Utilities Manual: Preface</title>
  <meta name="description" content=
  "Accounting Utilities Manual: Preface">
  <meta name="keywords" content=
  "Accounting Utilities Manual: Preface">
  <meta name="resource-type" content="document">
  <meta name="distribution" content="global">
  <meta name="Generator" content="texi2html 1.76">
  <meta http-equiv="Content-Type" content=
  "text/html; charset=us-ascii">
  <style type="text/css">
<!--
  a.summary-letter {text-decoration: none}
  pre.display {font-family: serif}
  pre.format {font-family: serif}
  pre.menu-comment {font-family: serif}
  pre.menu-preformatted {font-family: serif}
  pre.smalldisplay {font-family: serif; font-size: smaller}
  pre.smallexample {font-size: smaller}
  pre.smallformat {font-family: serif; font-size: smaller}
  pre.smalllisp {font-size: smaller}
  span.sansserif {font-family:sans-serif; font-weight:normal;}
  ul.toc {list-style: none}
  -->
  </style>
  <style type="text/css">
body {
  background-color: #FFFFFF;
  color: #000000;
  }
  :link { color: #0000FF }
  :visited { color: #800080 }
  :active { color: #FF0000 }
  span.c3 {font-size: 80%}
  a.c2 {font-style: italic}
  div.c1 {margin-left: 2em}
  </style>
</head>

<body lang="en">
  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ &lt; ]</td>

      <td valign="middle" align="left">[ <a href="#SEC2" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ &lt;&lt; ]</td>

      <td valign="middle" align="left">[ Up ]</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <table class="menu" border="0" cellspacing="0">
    <tr>
      <td align="left" valign="top"><a href=
      "#SEC1">Preface</a></td>

      <td>&nbsp;&nbsp;</td>

      <td align="left" valign="top">general information about the
      accounting utilities</td>
    </tr>

    <tr>
      <th colspan="3" align="left" valign="top">
        <pre class="menu-comment">
</pre>
      </th>
    </tr>

    <tr>
      <td align="left" valign="top"><a href="#SEC5">1.
      <code>ac</code></a></td>

      <td>&nbsp;&nbsp;</td>

      <td align="left" valign="top">print statistics about connect
      time</td>
    </tr>

    <tr>
      <td align="left" valign="top"><a href="#SEC11">2.
      <code>accton</code></a></td>

      <td>&nbsp;&nbsp;</td>

      <td align="left" valign="top">turns accounting on or off</td>
    </tr>

    <tr>
      <td align="left" valign="top"><a href="#SEC13">3.
      <code>last</code></a></td>

      <td>&nbsp;&nbsp;</td>

      <td align="left" valign="top">list last logins of users and
      terms</td>
    </tr>

    <tr>
      <td align="left" valign="top"><a href="#SEC18">4.
      <code>lastcomm</code></a></td>

      <td>&nbsp;&nbsp;</td>

      <td align="left" valign="top">list last commands
      executed</td>
    </tr>

    <tr>
      <td align="left" valign="top"><a href="#SEC20">5.
      <code>sa</code></a></td>

      <td>&nbsp;&nbsp;</td>

      <td align="left" valign="top">print accounting
      statistics</td>
    </tr>

    <tr>
      <td align="left" valign="top"><a href="#SEC24">6.
      <code>dump-acct</code></a></td>

      <td>&nbsp;&nbsp;</td>

      <td align="left" valign="top">print accounting file in
      human-readable form</td>
    </tr>

    <tr>
      <th colspan="3" align="left" valign="top">
        <pre class="menu-comment">



</pre>
      </th>
    </tr>
  </table><a name="Preface" id="Preface"></a> <a name="SEC1" id=
  "SEC1"></a>

  <h1 class="unnumbered">Preface</h1>

  <p>Way back a long time ago, Thompson and Ritchie were sitting
  opposite one another at the commissary, sipping coffees and
  discussing their evolving behemoth.</p>

  <p>"This behemoth of ours," said Ken, "is becoming rather
  popular, wouldn't you say?" "Yes," said Dennis. "Every time I
  want to do a compilation, I have to wait for hours and hours.
  It's infuriating." They both agreed that the load on their system
  was too great. Both sighed, picked up their mugs, and went back
  to the workbench. Little did they know that an upper-management
  type was sitting just within earshot of their conversation.</p>

  <p>"We are AT&amp;T Bell Laboratories, aren't we?" the
  upper-management type thought to himself. "Well, what is our
  organization best known for?" The brill-cream in his hair
  glistened. "Screwing people out of lots of money, of course! If
  there were some way that we could keep tabs on users and charge
  them through the nose for their CPU time..."</p>

  <p>The accounting utilities were born.</p>

  <p>Years later Markus Gothe was a facing the CEO at his work,
  keep asking him where and how he got the information on other
  employees payrolls. There was indeed a conflict, Markus denied
  all the modus operandi on how to get held of such copies or
  information. Plans was made up to frame him, by interception.</p>

  <p>This momement Markus realized the words of Rob Savoye "You
  cannot buy yourself free from guilt." He left the room with
  pride, for making a stand. However, sadly enogh, the CEO never
  realized that meaning. You cannot buy yourself free from guilt; A
  new revival had come for the GNU acccounting utilities and so a
  POSIX-standard.</p>

  <p>Seriously though, the accouting utilities can provide a system
  administrator with useful information about system
  usage--connections, programs executed, and utilization of system
  resources.</p>

  <p>Information about users--their connect time, location,
  programs executed, and the like--is automatically recored in
  files by <code>init</code> and <code>login</code>. Four of them
  are of interest to us: <code>wtmp</code>, which has records for
  each login and logout; <code>acct</code>, which records each
  command that was run; <code>usracct</code> and
  <code>savacct</code>, which contain summaries of the information
  in <code>acct</code> by user and command, respectively. Each of
  the accounting utilities reports or summarizes information stored
  in these files.</p>

  <dl compact="compact">
    <dt><code>ac</code></dt>

    <dd>
      <p>prints statistics about users' connect time.
      <code>ac</code> can tell you how long a particular user or
      group of users were connected to your system, printing totals
      by day or for all of the entries in the <code>wtmp</code>
      file.</p>
    </dd>

    <dt><code>accton</code></dt>

    <dd>
      <p>turns accounting on or off.</p>
    </dd>

    <dt><code>last</code></dt>

    <dd>
      <p>lists the logins on the system, most recent first. With
      <code>last</code>, you can search the <code>wtmp</code> file
      for a particular user or terminal name (to which the user was
      connected). Of special interest are two fake users,
      <samp>`reboot'</samp> and <samp>`shutdown'</samp>, which are
      recorded when the system is shut down or reboots.</p>
    </dd>

    <dt><code>lastcomm</code></dt>

    <dd>
      <p>lists the commands executed on the system, most recent
      first, showing the run state of each command. With
      <code>last</code>, you can search the <code>acct</code> file
      for a particular user, terminal, or command.</p>
    </dd>

    <dt><code>sa</code></dt>

    <dd>
      <p>summarizes the information in the <code>acct</code> file
      into the <code>savacct</code> and <code>usracct</code> file.
      It also generates reports about commands, giving the number
      of invocations, cpu time used, average core usage, etc.</p>
    </dd>

    <dt><code>dump-acct</code></dt>

    <dt><code>dump-utmp</code></dt>

    <dd>
      <p>display <code>acct</code> and <code>utmp</code> files in a
      human-readable format.</p>
    </dd>
  </dl>

  <p>For more detailed information on any of these programs, check
  the chapter with the program title.</p>
  <hr size="6">
  <a name="SEC2" id="SEC2"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC3" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h2 class="unnumberedsec">A Note on File Names and Locations</h2>

  <p>The <code>wtmp</code> and <code>acct</code> files seem to live
  in different places and have different names for every variant of
  u*x that exists. The name <code>wtmp</code> seems to be standard
  for the login accounting file, but the process accounting file
  might be <code>acct</code> or <code>pacct</code> on your system.
  To find the actual locations and names of these files on your
  system, specify the <code>--help</code> flag to any of the
  programs in this package and the information will dumped to
  standard output.</p>

  <p>Regardless of the names and locations of files on your system,
  this manual will refer to the login accounting file as
  <code>wtmp</code> and the process accounting files as
  <code>acct</code>, <code>savacct</code>, and
  <code>usracct</code>.</p>
  <hr size="6">
  <a name="SEC3" id="SEC3"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC2" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC4" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h2 class="unnumberedsec">Support for Multiple Accounting File
  Formats under Linux</h2>

  <p>The detailed format of the <code>acct</code> file written by
  the Linux kernel varies depending on the kernel's version and
  configuration: Linux kernels 2.6.7 and earlier write a v0 format
  <code>acct</code> file which unfortunately cannot store user and
  group ids (<code>uid</code>/<code>gid</code>) larger than 65535.
  Kernels 2.6.8 and later write the <code>acct</code> file in v1,
  v2 or v3 formats. (v3 if <code>BSD_PROCESS_ACCT_V3</code> is
  selected in the kernel configuration, otherwise v1 if on the m68k
  architecture or v2 everywhere else).</p>

  <p>Since version 6.4 the GNU accounting utilities on Linux
  systems are able to read all of the v0, v2 and v3 file formats
  (v1 is not supported). Thus you do not need to worry about the
  details given above. You can even read <code>acct</code> files
  where different records were written by differently configured
  kernels (you can find out about the format of each entry by using
  the <code>dump-acct</code> utility). In case you ever need to
  convert an <code>acct</code> file to a different format, the
  <code>--raw</code> option of <code>dump-acct</code> does that
  together with the new <code>--format</code> and
  <code>--byteswap</code> options that determine format and byte
  order of the output file.</p>

  <p>Multiformat support under Linux is intended to be a temporary
  solution to aid in switching to the v3 <code>acct</code> file
  format. So do not expect GNU acct 6.7 to still contain
  Multiformat support. In a few years time, when everybody uses the
  v3 format, the ability to read multiple formats at runtime will
  probably be dropped again from the GNU accounting utilities. This
  does not, however, affect the ability to adapt to the
  <code>acct</code> file format at compile time (when
  <code>./configure</code> is run). Even GNU acct 6.3.5 (that does
  not know about multiple file formats) will yield working binary
  programs when compiled under a (as yet hypothetical) Linux kernel
  2.6.62 that is only able to write the v3 format.</p>
  <hr size="6">
  <a name="SEC4" id="SEC4"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC3" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h2 class="unnumberedsec">History of the Accounting
  Utilities</h2>

  <p>I don't have any idea who originally wrote these utilities. If
  anybody does, please send some mail to
  <code>noel@gnu.ai.mit.edu</code> and I'll add your information
  here!</p>

  <p>Since the first alpha versions of this software in late 1993,
  many people have contributed to the package. They are (in
  alphabetical order):</p>

  <dl compact="compact">
    <dt><code>Eric Backus &lt;ericb@lsid.hp.com&gt;</code></dt>

    <dd>
      <p>Suggested fixes for HP-UX 9.05 using /bin/cc: configure
      assumed you were using <code>gcc</code> and tacked on
      <code>-Wall</code> etc. He also noticed that
      <code>file_rd.c</code> was doing pointer arithmetic on a
      <code>void *</code> pointer (non-ANSI).</p>
    </dd>

    <dt><code>Christoph Badura
    &lt;bad@flatlin.ka.sub.org&gt;</code></dt>

    <dd>
      <p>Christoph was a BIG HELP in computing statistics, most
      notably k*sec stuff! He also did Xenix testing and
      contributed some Makefile fixes and output optimizations.</p>
    </dd>

    <dt><code>Michael Calwas
    &lt;calwas@ttd.teradyne.com&gt;</code></dt>

    <dd>
      <p>Fixed bugs in mktime.c.</p>
    </dd>

    <dt><code>Derek Clegg &lt;dclegg@apple.com&gt;</code></dt>

    <dd>
      <p>Suggested the simple, elegant fix for *_rd_never_used
      brain-damage.</p>
    </dd>

    <dt><code>Alan Cox &lt;iiitac@pyr.swan.ac.uk&gt;</code></dt>

    <dd>
      <p>Original Linux kernel accounting patches.</p>
    </dd>

    <dt><code>Scott Crosby
    &lt;root@hypercube.res.cmu.edu&gt;</code></dt>

    <dd>
      <p>Suggested idea behind <code>--sort-real-time</code> for
      <code>sa</code>.</p>
    </dd>

    <dt><code>Solar Designer &lt;solar@false.com&gt;</code></dt>

    <dd>
      <p>Added code for <code>--ahz</code> flag in
      <code>lastcomm</code> and <code>sa</code>.</p>
    </dd>

    <dt><code>Dirk Eddelbuettel
    &lt;edd@miles.econ.queensu.ca&gt;</code></dt>

    <dd>
      <p>Managed bug-fixes &amp; etc. for Debian distribution, as
      well as the architect of merge of GNU + Debian distributions.
      A big thanks to Dirk for kicking me back into gear again
      after a long period of no work on this project.</p>
    </dd>

    <dt><code>Jason Grant
    &lt;jamalcol@pc-5530.bc.rogers.wave.ca&gt;</code></dt>

    <dd>
      <p>Identified a buffer-overrun bug in <code>sa</code>.</p>
    </dd>

    <dt><code>Kaveh R. Ghazi
    &lt;ghazi@caip.rutgers.edu&gt;</code></dt>

    <dd>
      <p>Tested the package on many systems with compilers other
      than gcc. Fixed K&amp;R C support.</p>
    </dd>

    <dt><code>Susan Kleinmann &lt;sgk@sgk.tiac.net&gt;</code></dt>

    <dd>
      <p>Contributed excellent man pages!</p>
    </dd>

    <dt><code>Alexander Kourakos
    &lt;Alexander@Kourakos.com&gt;</code></dt>

    <dd>
      <p>Inspired the <code>--wide</code> option for
      <code>last</code>.</p>
    </dd>

    <dt><code>Marek Michalkiewicz
    &lt;marekm@i17linuxb.ists.pwr.wroc.pl&gt;</code></dt>

    <dd>
      <p>Suggested the <code>--ip-address</code> flag for
      <code>last</code>.</p>
    </dd>

    <dt><code>David S. Miller
    &lt;davem@caip.rutgers.edu&gt;</code></dt>

    <dd>
      <p>Noticed missing GNU-standard makefile rules.</p>
    </dd>

    <dt><code>Walter Mueller
    &lt;walt@pi4.informatik.uni-mannheim.de&gt;</code></dt>

    <dd>
      <p>Noticed install target was missing, and corrected a typo
      for prefix in Makefile.in.</p>
    </dd>

    <dt><code>Ian Murdock
    &lt;imurdock@gnu.ai.mit.edu&gt;</code></dt>

    <dd>
      <p>Tracked down miscellaneous bugs in sa.c under Linux. Added
      Debian package maintenance files.</p>
    </dd>

    <dt><code>Tuomo Pyhala &lt;tuomo@lesti.kpnet.fi&gt;</code></dt>

    <dd>
      <p>Reported buggy <code>--strict-match</code> flag in
      <code>lastcomm</code>.</p>
    </dd>

    <dt><code>Tim Schmielau
    &lt;tim@physik3.uni-rostock.de&gt;</code></dt>

    <dd>
      <p>Added Linux multiformat support.</p>
    </dd>

    <dt><code>Luc I. Suryo
    &lt;root@patriots.nl.mugnet.org&gt;</code></dt>

    <dd>
      <p>Suggested the <code>--user</code> flag for
      <code>lastcomm</code>.</p>
    </dd>

    <dt><code>Pedro A M Vazquez
    &lt;vazquez@iqm.unicamp.br&gt;</code></dt>

    <dd>
      <p>Fixed bugs in sa.c and tested under FreeBSD.</p>
    </dd>

    <dt><code>Marco van Wieringen
    &lt;Marco.van.Wieringen@mcs.nl.mugnet.org&gt;</code></dt>

    <dd>
      <p>Modified (wrote?) Linux kernel accounting patches.</p>
    </dd>
  </dl>
  <hr size="6">
  <a name="ac" id="ac"></a> <a name="SEC5" id="SEC5"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC4" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC6" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC11" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h1 class="chapter">1. <code>ac</code></h1>

  <p>The <code>ac</code> command prints out a report of connect
  time (in hours) based on the logins/logouts in the current
  <code>wtmp</code> file. A total is also printed out.</p>

  <p>The accounting file <code>wtmp</code> is maintained by
  <code>init</code> and <code>login</code>. Neither of these
  programs creates the file; if the file is not there, no
  accounting is done. To begin accounting, create the file with a
  length of zero. <strong>NOTE:</strong> the <code>wtmp</code> file
  can get really big, really fast. You might want to trim it every
  once and a while.</p>

  <p>GNU <code>ac</code> works nearly the same u*x <code>ac</code>,
  though it's a little smarter in its printing out of daily
  totals--it actually prints <em>every</em> day, rather than
  skipping to the date of the next entry in the <code>wtmp</code>
  file.</p>
  <hr size="6">
  <a name="SEC6" id="SEC6"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC7" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC11" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h2 class="section">1.1 Flags</h2>

  <p>All of the original <code>ac</code>'s options have been
  implemented, and a few have been added. Normally, when
  <code>ac</code> is invoked, the output looks like this:</p>

  <table>
    <tr>
      <td>&nbsp;</td>

      <td>
        <pre class="example">
        total 93867.14
</pre>
      </td>
    </tr>
  </table>

  <p>where total is the number of hours of connect time for every
  entry in the <code>wtmp</code> file. The rest of the flags modify
  the output in one way or another.</p>

  <dl compact="compact">
    <dt><code>-d</code></dt>

    <dt><code>--daily-totals</code></dt>

    <dd>
      <p>Print totals for each day rather than just one big total
      at the end. The output looks like this:</p>

      <table>
        <tr>
          <td>&nbsp;</td>

          <td>
            <pre class="example">
Jul  3  total     1.17
Jul  4  total     2.10
Jul  5  total     8.23
Jul  6  total     2.10
Jul  7  total     0.30
</pre>
          </td>
        </tr>
      </table>
    </dd>

    <dt><code>-p</code></dt>

    <dt><code>--individual-totals</code></dt>

    <dd>
      <p>Print time totals for each user in addition to the usual
      everything-lumped-into-one value. It looks like:</p>

      <table>
        <tr>
          <td>&nbsp;</td>

          <td>
            <pre class="example">
        bob       8.06
        goff      0.60
        maley     7.37
        root      0.12
        total    16.15
</pre>
          </td>
        </tr>
      </table>
    </dd>

    <dt><code><var>people</var></code></dt>

    <dd>
      <p>Print out the sum total of the connect time used by all of
      the users included in people. Note that people is a space
      separated list of valid user names; wildcards are not
      allowed.</p>
    </dd>

    <dt><code>-f <var>filename</var></code></dt>

    <dt><code>--file <var>filename</var></code></dt>

    <dd>
      <p>Read from the file <var>filename</var> instead of the
      system's <code>wtmp</code> file.</p>
    </dd>

    <dt><code>--complain</code></dt>

    <dd>
      <p>When the <code>wtmp</code> file has a problem (a
      time-warp, missing record, or whatever), print out an
      appropriate error.</p>
    </dd>

    <dt><code>--reboots</code></dt>

    <dd>
      <p>Reboot records are <em>not</em> written at the time of a
      reboot, but when the system restarts; therefore, it is
      impossible to know <var>exactly</var> when the reboot
      occurred. Users may have been logged into the system at the
      time of the reboot, and many <code>ac</code>'s automatically
      count the time between the login and the reboot record
      against the user (even though all of that time
      <em>shouldn't</em> be, perhaps, if the system is down for a
      long time, for instance). If you want to count this time,
      include the flag. <strong>To make <code>ac</code> behave like
      the one that was distributed with your OS, include this
      flag.</strong></p>
    </dd>

    <dt><code>--supplants</code></dt>

    <dd>
      <p>Sometimes a logout record is not written for a specific
      terminal, so the time that the last user accrued cannot be
      calculated. If you want to include the time from the user's
      login to the next login on the terminal (though probably
      incorrect), include this flag. <strong>To make
      <code>ac</code> behave like the one that was distributed with
      your OS, include this flag.</strong></p>
    </dd>

    <dt><code>--timewarps</code></dt>

    <dd>
      <p>Sometimes, entries in a <code>wtmp</code> file will
      suddenly jump back into the past without a clock change
      record occurring. It is impossible to know how long a user
      was logged in when this occurs. If you want to count the time
      between the login and the time warp against the user, include
      this flag. <strong>To make <code>ac</code> behave like the
      one that was distributed with your OS, include this
      flag.</strong></p>
    </dd>

    <dt><code>--compatibility</code></dt>

    <dd>
      <p>This is shorthand for typing out the three above
      options.</p>
    </dd>

    <dt><code>-a</code></dt>

    <dt><code>--all-days</code></dt>

    <dd>
      <p>If we're printing daily totals, print a record for every
      day instead of skipping intervening days where there is no
      login activity. Without this flag, time accrued during those
      intervening days gets listed under the next day where there
      is login activity.</p>
    </dd>

    <dt><code>-y</code></dt>

    <dt><code>--print-year</code></dt>

    <dd>
      <p>Print out the year when displaying dates.</p>
    </dd>

    <dt><code>--print-zeros</code></dt>

    <dd>
      <p>If a total for any category (save the grand total) is
      zero, print it. The default is to suppress printing.</p>
    </dd>

    <dt><code>--debug</code></dt>

    <dd>
      <p>Print verbose internal information.</p>
    </dd>

    <dt><code>--tw-leniency <var>value</var></code></dt>

    <dd>
      <p>Set the time warp leniency value (in seconds). Records in
      <code>wtmp</code> files might be slightly out of order (most
      notably when two logins occur within a one-second period -
      the second one gets written first). By default, this value is
      set to 1 second. Some <code>wtmp</code>'s are really screwed
      up (Suns) and require a larger value here. If the program
      notices this problem, time is not assigned to users unless
      the <code>--timewarps</code> flag is used. See the Problems
      section for more information.</p>
    </dd>

    <dt><code>--tw-suspicious <var>value</var></code></dt>

    <dd>
      <p>Set the time warp suspicious value (in seconds). If two
      records in the <code>wtmp</code> file are farther than this
      number of seconds apart, there is a problem with the wtmp
      file (or your machine hasn't been used in a year). If the
      program notices this problem, time is not assigned to users
      unless the <code>--timewarps</code> flag is used.</p>
    </dd>

    <dt><code>-V</code></dt>

    <dt><code>--version</code></dt>

    <dd>
      <p>Print <code>ac</code>'s version number.</p>
    </dd>

    <dt><code>-h</code></dt>

    <dt><code>--help</code></dt>

    <dd>
      <p>Print <code>ac</code>'s usage string and default locations
      of system files to standard output.</p>
    </dd>
  </dl>
  <hr size="6">
  <a name="SEC7" id="SEC7"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC6" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC8" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC11" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h2 class="section">1.2 Problems</h2>

  <p>For no fault of <code>ac</code>'s, if two logins occur at the
  same time (within a second of each other), each
  <code>login</code> process will try to write an entry to the
  <code>wtmp</code> file. With file system overhead, it is
  forseeable that the entries would get written in the wrong order.
  GNU <code>ac</code> automatically compensates for this, but some
  other <code>ac</code>s may not... beware.</p>
  <hr size="6">
  <a name="SEC8" id="SEC8"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC7" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC9" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC7" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC11" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h4 class="unnumberedsubsubsec">The FTP Problem</h4>

  <p>I've tested the standard <code>ac</code> in Ultrix 4.2
  (DECstation/DECsystem), SunOS 4.1.1 (Sun3, Sun4, Sparc), Mach 2.5
  (Omron/Luna), and DomainOS 10.3 (DN3500). All of these
  <code>ac</code>s have trouble parsing entries in which the line
  is <code>ftp</code><var>xxxx</var> (<var>xxxx</var> being some
  number). Whenever these <code>ac</code>s see one of these
  entries, they log everyone out at the time of the entry.</p>

  <p><strong>HOW IT HAPPENS:</strong> if there is a user logged
  into the machine when an ftp connection occurs, (minimally)
  you'll get a login record for the user, a login record for the
  ftp connection, and the logouts for both afterwards (in either
  order).</p>

  <p><strong>TANGIBLE RESULT:</strong> the user who was logged in
  gets 'logged out' at the time the ftp connection begins, and none
  of the time spent during or after the ftp connection. Therefore,
  when you run GNU <code>ac</code>, the totals will most likely be
  greater than those of your system's <code>ac</code> (provided you
  specify the other flags that will make GNU <code>ac</code> behave
  like the system's).</p>
  <hr size="6">
  <a name="SEC9" id="SEC9"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC8" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC10" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC7" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC11" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h4 class="unnumberedsubsubsec">The Shutdown/Reboot Problem</h4>

  <p>On Suns, <code>init</code> is a little screwed up. For some
  reason, after a shutdown record is written, a reboot record is
  written with a time-stamp <em>before</em> the shutdown (less than
  30 seconds, usually).</p>

  <p><strong>TANGIBLE RESULT:</strong> GNU <code>ac</code> will
  notice the problem, log everyone out (you can specify if you want
  the time to be added to the user's total) and begin a new day
  entry based on the time of the out-of-sync record. If you try to
  print out daily totals, you'll notice that some days might have
  two or more entries.</p>

  <p><strong>SOLUTION:</strong> To fix this, a timewarp leniency
  value has been implemented. If any record is out of order by this
  number of seconds (defaults to 60) it gets ignored. If you need
  to change this value (if you think the totals are off because the
  value is too high), you can change it using the
  <samp>`--timewarp-value'</samp> flag. The rationale for the 60
  second default is that of all of the machines with this problem,
  the largest timewarp was 45.</p>
  <hr size="6">
  <a name="SEC10" id="SEC10"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC9" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC11" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC7" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC11" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h4 class="unnumberedsubsubsec">Stupid System V Machines</h4>

  <p>Some <code>ac</code>'s on System V machines (I've tried SGI
  Indigo &amp; SGI Indy) forget to pay attention to the
  <code>ut_type</code> field in a <code>struct utmp</code>. As
  such, they chalk up a lot of time to non-existant processes
  called <code>LOGIN</code> or <code>runlevel</code>.</p>

  <p><strong>TANGIBLE RESULT:</strong> The amount of total time
  reported by the system's <code>ac</code> is
  <strong>really</strong> off. Often, it's several times greater
  than what it should be.</p>

  <p><strong>SOLUTION:</strong> GNU <code>ac</code> always pays
  attention to the <code>ut_type</code> record, so there's no
  possibility of chalking up time to anything but user
  processes.</p>
  <hr size="6">
  <a name="accton" id="accton"></a> <a name="SEC11" id="SEC11"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC10" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC12" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC5" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h1 class="chapter">2. <code>accton</code></h1>

  <p><code>accton</code> turns process accounting on or off. To
  save process accounting information in <var>accountingfile</var>,
  use:</p>

  <p><code>accton <var>accountingfile</var></code></p>

  <p>If called with no arguments, it will, by default, stop process
  accounting.</p>
  <hr size="6">
  <a name="SEC12" id="SEC12"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC11" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC11" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC11" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h2 class="section">2.1 Flags</h2>

  <dl compact="compact">
    <dt><code>-V</code></dt>

    <dt><code>--version</code></dt>

    <dd>
      <p>Print <code>accton</code>'s version number.</p>
    </dd>

    <dt><code>-h</code></dt>

    <dt><code>--help</code></dt>

    <dd>
      <p>Print <code>accton</code>'s usage string and default
      locations of system files to standard output.</p>
    </dd>
  </dl>
  <hr size="6">
  <a name="last" id="last"></a> <a name="SEC13" id="SEC13"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC12" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC14" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC11" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC18" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h1 class="chapter">3. <code>last</code></h1>

  <p><code>last</code> looks through the <code>wtmp</code> file
  (which records all logins/logouts) and prints information about
  connect times of users. Records are printed from most recent to
  least recent. Records can be specified by tty and username. tty
  names can be abbreviated: <samp>`last 0'</samp> is equivalent to
  <samp>`last tty0'</samp>.</p>

  <p>Multiple arguments can be specified: <samp>`last root
  console'</samp> will print all of the entries for the user
  <code>root</code> and all entries logged in on the
  <code>console</code> tty.</p>

  <p>The special users <code>reboot</code> and
  <code>shutdown</code> log in when the system reboots or
  (surprise) shuts down. <samp>`last reboot'</samp> will produce a
  record of reboot times.</p>

  <p>If <code>last</code> is interrupted by a quit signal, it
  prints out how far its search in the <code>wtmp</code> file had
  reached and then quits:</p>

  <table>
    <tr>
      <td>&nbsp;</td>

      <td>
        <pre class="example">
weerapan  ttyq6    132.162.32.37    Mon Feb 15 19:07 - 19:21  (00:13)
weerapan  ttyq6    132.162.32.37    Mon Feb 15 19:07 - 19:21  (00:13)

interrupted at Mon Feb 15 19:07:52 1993
</pre>
      </td>
    </tr>
  </table>
  <hr size="6">
  <a name="SEC14" id="SEC14"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC15" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC18" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h2 class="section">3.1 Flags</h2>

  <p>This program implements the features of regular u*x
  <code>last</code> with a few extra flags. When <code>last</code>
  is invoked with no arguments, the output looks like this:</p>

  <table>
    <tr>
      <td>&nbsp;</td>

      <td>
        <pre class="example">
gr151     ttyp2    ray.cs.oberlin.e Tue Feb 16 17:40   still logged in
jhoggard  ttyp2    csts.cs.oberlin. Tue Feb 16 17:39 - 17:39  (00:00)
jstarr    ttyp1    UNIX5.ANDREW.CMU Tue Feb 16 17:38   still logged in
jberman   ttypb    132.162.32.25    Tue Feb 16 17:34   still logged in
alee      ttyp7    csts.cs.oberlin. Tue Feb 16 17:34   still logged in
jbrick    ttyp2    ocvaxa.cc.oberli Tue Feb 16 17:33 - 17:36  (00:03)
mbastedo  ttypc    ocvaxa.cc.oberli Tue Feb 16 17:25 - 17:26  (00:01)
rgoodste  ttypb    ocvaxa.cc.oberli Tue Feb 16 17:22 - 17:26  (00:03)
huttar    ttyp9    lobby.ti.com     Tue Feb 16 17:19   still logged in
klutz     ttyp3    132.162.32.25    Tue Feb 16 17:14   still logged in
</pre>
      </td>
    </tr>
  </table>

  <dl compact="compact">
    <dt><code>--no-truncate-ftp-entries</code></dt>

    <dd>
      <p>When printing out the information, don't chop the number
      part off of <code>ftp</code><var>xxxx</var> entries.</p>
    </dd>

    <dt><code>-<var>number</var></code></dt>

    <dt><code>-n <var>number</var></code></dt>

    <dt><code>--lines <var>number</var></code></dt>

    <dd>
      <p>Limit the number of lines that <code>last</code>
      prints.</p>
    </dd>

    <dt><code>-f <var>filename</var></code></dt>

    <dt><code>--file <var>filename</var></code></dt>

    <dd>
      <p>Read from the file <var>filename</var> instead of the
      system's <code>wtmp</code> file.</p>
    </dd>

    <dt><code>-y</code></dt>

    <dt><code>--print-year</code></dt>

    <dd>
      <p>Print out the year when displaying dates.</p>
    </dd>

    <dt><code>-s</code></dt>

    <dt><code>--print-seconds</code></dt>

    <dd>
      <p>Print out seconds when displaying dates and durations.</p>
    </dd>

    <dt><code>--complain</code></dt>

    <dd>
      <p>When the <code>wtmp</code> file has a problem (a
      time-warp, missing record, or whatever), print out an
      appropriate error.</p>
    </dd>

    <dt><code>-x</code></dt>

    <dt><code>--more-records</code></dt>

    <dd>
      <p>Print out run level changes, shutdowns, and time changes
      in addition to the normal records.</p>
    </dd>

    <dt><code>-a</code></dt>

    <dt><code>--all-records</code></dt>

    <dd>
      <p>Print out all records in the <code>wtmp</code> file.</p>
    </dd>

    <dt><code>-i</code></dt>

    <dt><code>--ip-address</code></dt>

    <dd>
      <p>Some machines store the IP address of a connection in a
      utmp record. Enabling this option makes <code>last</code>
      print the IP address instead of the hostname.</p>
    </dd>

    <dt><code>--tw-leniency <var>value</var></code></dt>

    <dd>
      <p>Set the time warp leniency value (in seconds). See the
      <code>ac</code> chapter for information.</p>
    </dd>

    <dt><code>--tw-suspicious <var>value</var></code></dt>

    <dd>
      <p>Set the time warp suspicious value (in seconds). See the
      <code>ac</code> chapter for information.</p>
    </dd>

    <dt><code>-w</code></dt>

    <dt><code>--wide</code></dt>

    <dd>
      <p>By default, <code>last</code> tries to print each entry
      within in 80 columns. Use this option to instruct
      <code>last</code> to print out the fields in the
      <code>wtmp</code> file with full field widths.</p>
    </dd>

    <dt><code>--debug</code></dt>

    <dd>
      <p>Print verbose internal information.</p>
    </dd>

    <dt><code>-V</code></dt>

    <dt><code>--version</code></dt>

    <dd>
      <p>Print <code>last</code>'s version number.</p>
    </dd>

    <dt><code>-h</code></dt>

    <dt><code>--help</code></dt>

    <dd>
      <p>Print <code>last</code>'s usage string and default
      locations of system files to standard output.</p>
    </dd>
  </dl>
  <hr size="6">
  <a name="SEC15" id="SEC15"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC14" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC16" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC18" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h2 class="section">3.2 Problems</h2>
  <hr size="6">
  <a name="SEC16" id="SEC16"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC15" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC17" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC15" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC18" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h4 class="unnumberedsubsubsec">The Clock Change Problem</h4>

  <p>Of the <code>last</code>s I've tried, all of them have had
  problems parsing a system clock change. Instead of modifying the
  entries that have been read, they just ignore the change and give
  you incorrect values. GNU <code>last</code> knows about clock
  changes and prints the correct times.</p>

  <p><strong>TANGIBLE RESULT:</strong> if you <code>diff</code> the
  output of your <code>last</code> and GNU <code>last</code>,
  entries after (before, rather) a clock change will be off by the
  amount of the clock change.</p>
  <hr size="6">
  <a name="SEC17" id="SEC17"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC16" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC18" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC15" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC18" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h4 class="unnumberedsubsubsec">The Ftp Problem</h4>

  <p>Most <code>last</code>s that I've examined have the same
  problem here as <code>ac</code> does--they log everyone out as
  soon as they see an ftp entry.</p>

  <p><strong>TANGIBLE RESULT:</strong> GNU <code>last</code> will
  reflect the correct time spent in an ftp session, so the totals
  that it gives will most likely be greater than those given by the
  system <code>last</code>.</p>
  <hr size="6">
  <a name="lastcomm" id="lastcomm"></a> <a name="SEC18" id=
  "SEC18"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC17" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC19" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC13" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC20" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h1 class="chapter">4. <code>lastcomm</code></h1>

  <p><code>lastcomm</code> prints out information about previously
  executed commands. If no arguments are specified,
  <code>lastcomm</code> will print info about all of the commands
  in the <code>acct</code> file (the record file). If called with a
  command name, user name, or tty name, only records containing
  those items will be displayed. For example, to find out which
  users used command <samp>`a.out'</samp> and which users were
  logged into <samp>`tty0'</samp>, type:</p>

  <p><code>lastcomm a.out tty0</code></p>

  <p>This will print any entry for which <samp>`a.out'</samp> or
  <samp>`tty0'</samp> matches in any of the record's fields
  (command, name, or tty). If you want to find only items that
  match ALL of the arguments on the command line, you must use the
  '-strict-match' option. For example, to list all of the
  executions of command <samp>`a.out'</samp> by user
  <samp>`root'</samp> on terminal <samp>`tty0'</samp>, type:</p>

  <p><code>lastcomm --strict-match a.out root tty0</code></p>

  <p>The order of the arguments is not important.</p>

  <p>For each entry the following information is printed:</p>

  <ul>
    <li>command name of the process</li>

    <li>flags, as recorded by the system accounting routines:

      <ul class="toc">
        <li>- <strong>S</strong> command executed by
        super-user</li>

        <li>- <strong>F</strong> command executed after a fork but
        without a following exec</li>

        <li>- <strong>C</strong> command run in PDP-11
        compatibility mode (VAX only)</li>

        <li>- <strong>D</strong> command terminated with the
        generation of a core file</li>

        <li>- <strong>X</strong> command was terminated with the
        signal SIGTERM</li>
      </ul>
    </li>

    <li>the name of the user who ran the process</li>

    <li>time the process exited</li>
  </ul>
  <hr size="6">
  <a name="SEC19" id="SEC19"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC18" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC20" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC18" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC18" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC20" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h2 class="section">4.1 Flags</h2>

  <p>This program implements the features of regular u*x
  <code>lastcomm</code> with a few extra flags. When
  <code>lastcomm</code> is invoked without arguments, the output
  looks like this:</p>

  <table>
    <tr>
      <td>&nbsp;</td>

      <td>
        <pre class="example">
nslookup         jberman  ttypb      0.03 secs Tue Feb 16 19:23
comsat           root     __         0.03 secs Tue Feb 16 19:19
uptime           ctilburg __         0.11 secs Tue Feb 16 19:23
sh          F    ctilburg __         0.02 secs Tue Feb 16 19:23
sleep            ctilburg __         0.02 secs Tue Feb 16 19:22
ls               noel     ttyp4      0.19 secs Tue Feb 16 19:23
</pre>
      </td>
    </tr>
  </table>

  <dl compact="compact">
    <dt><code>--strict-match</code></dt>

    <dd>
      <p>Print only entries that match <em>all</em> of the
      arguments on the command line.</p>
    </dd>

    <dt><code>--user <var>name</var></code></dt>

    <dd>
      <p>List records for user with <var>name</var>. This is useful
      if you're trying to match a username that happens to be the
      same as a command (e.g., <code>ed</code>).</p>
    </dd>

    <dt><code>--command <var>name</var></code></dt>

    <dd>
      <p>List records for command <var>name</var>.</p>
    </dd>

    <dt><code>--tty <var>name</var></code></dt>

    <dd>
      <p>List records for tty <var>name</var>.</p>
    </dd>

    <dt><code>-f <var>filename</var></code></dt>

    <dt><code>--file <var>filename</var></code></dt>

    <dd>
      <p>Read from the file <var>filename</var> instead of the
      system's <code>acct</code> file.</p>
    </dd>

    <dt><code>--ahz <var>hz</var></code></dt>

    <dd>
      <p>Use this flag to tell the program what <code>AHZ</code>
      should be (in hertz). This option is useful if you are trying
      to view an <code>acct</code> file created on another machine
      which has the same byte order and file format as your current
      machine, but has a different value for <code>AHZ</code>.</p>
    </dd>

    <dt><code>-p</code></dt>

    <dt><code>--show-paging</code></dt>

    <dd>
      <p>Print paging statistics</p>
    </dd>

    <dt><code>--debug</code></dt>

    <dd>
      <p>Print verbose internal information.</p>
    </dd>

    <dt><code>--version</code></dt>

    <dd>
      <p>Print <code>lastcomm</code>'s version number.</p>
    </dd>

    <dt><code>--help</code></dt>

    <dd>
      <p>Print <code>lastcomm</code>'s usage string and default
      locations of system files to standard output.</p>
    </dd>
  </dl>
  <hr size="6">
  <a name="sa" id="sa"></a> <a name="SEC20" id="SEC20"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC19" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC21" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC18" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC24" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h1 class="chapter">5. <code>sa</code></h1>

  <p><code>sa</code> summarizes information about previously
  executed commands as recorded in the <code>acct</code> file. In
  addition, it condenses this data into the <code>savacct</code>
  summary file, which contains the number of times the command was
  called and the system resources used. The information can also be
  summarized on a per-user basis; <code>sa</code> will save this
  information into <code>usracct</code>. Usage:</p>

  <p><code>sa [<var>opts</var>] [<var>file</var>]</code></p>

  <p>If no arguments are specified, <code>sa</code> will print
  information about all of the commands in the <code>acct</code>
  file. If command names have unprintable characters, or are only
  called once, <code>sa</code> will sort them into a group called
  <code>***other</code>. Overall totals for each field are gathered
  and printed with a blank command name.</p>

  <p>If called with a file name as the last argument,
  <code>sa</code> will use that file instead of
  <code>acct</code>.</p>

  <p>By default, <code>sa</code> will sort the output by sum of
  user and system time.</p>

  <p>The output fields are labeled as follows:</p>

  <dl compact="compact">
    <dt><code>cpu</code></dt>

    <dd>
      <p>sum of system and user time in cpu seconds</p>
    </dd>

    <dt><code>re</code></dt>

    <dd>
      <p>"real time" in cpu seconds</p>
    </dd>

    <dt><code>k</code></dt>

    <dd>
      <p>cpu-time averaged core usage, in 1k units</p>
    </dd>

    <dt><code>avio</code></dt>

    <dd>
      <p>average number of I/O operations per execution</p>
    </dd>

    <dt><code>tio</code></dt>

    <dd>
      <p>total number of I/O operations</p>
    </dd>

    <dt><code>k*sec</code></dt>

    <dd>
      <p>cpu storage integral (kilo-core seconds)</p>
    </dd>

    <dt><code>u</code></dt>

    <dd>
      <p>user cpu time in cpu seconds</p>
    </dd>

    <dt><code>s</code></dt>

    <dd>
      <p>system time in cpu seconds</p>
    </dd>
  </dl>

  <p>Note that these column titles do not appear in the first row
  of the table, but after each numeric entry (as units of
  measurement) in every row. For example, you might see
  <code>79.29re</code>, meaning 79.29 cpu seconds of "real
  time."</p>

  <p>An asterisk will appear after the name of commands that forked
  but didn't call <code>exec</code>.</p>
  <hr size="6">
  <a name="SEC21" id="SEC21"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC20" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC22" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC20" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC20" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC24" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h2 class="section">5.1 Flags</h2>

  <p>The availability of these program options depends on your
  operating system. In specific, the members that appear in the
  <code>struct acct</code> of your system's process accounting
  header file (usually <code>acct.h</code>) determine which flags
  will be present. For example, if your system's <code>struct
  acct</code> doesn't have the <code>ac_mem</code> field, the
  installed version of <code>sa</code> will not support the
  <code>--sort-cpu-avmem</code>, <code>--sort-ksec</code>,
  <code>-k</code>, or <code>-K</code> options.</p>

  <p>In short, all of these flags may not be available on your
  machine.</p>

  <dl compact="compact">
    <dt><code>-a</code></dt>

    <dt><code>--list-all-names</code></dt>

    <dd>
      <p>Force <code>sa</code> not to sort those command names with
      unprintable characters and those used only once into the
      `<code>***other</code>' group.</p>
    </dd>

    <dt><code>-b</code></dt>

    <dt><code>--sort-sys-user-div-calls</code></dt>

    <dd>
      <p>Sort the output by the sum of user and system time divided
      by the number of calls.</p>
    </dd>

    <dt><code>-c</code></dt>

    <dt><code>--percentages</code></dt>

    <dd>
      <p>Print percentages of total time for the command's user,
      system, and real time values.</p>
    </dd>

    <dt><code>-d</code></dt>

    <dt><code>--sort-avio</code></dt>

    <dd>
      <p>Sort the output by the average number of disk I/O
      operations.</p>
    </dd>

    <dt><code>-D</code></dt>

    <dt><code>--sort-tio</code></dt>

    <dd>
      <p>Print and sort the output by the total number of disk I/O
      operations.</p>
    </dd>

    <dt><code>-f</code></dt>

    <dt><code>--not-interactive</code></dt>

    <dd>
      <p>When using the <code>--threshold</code> option, assume
      that all answers to interactive queries will be
      affirmative.</p>
    </dd>

    <dt><code>-i</code></dt>

    <dt><code>--dont-read-summary-file</code></dt>

    <dd>
      <p>Don't read the information in <code>savacct</code>.</p>
    </dd>

    <dt><code>-j</code></dt>

    <dt><code>--print-seconds</code></dt>

    <dd>
      <p>Instead of printing total minutes for each category, print
      seconds per call.</p>
    </dd>

    <dt><code>-k</code></dt>

    <dt><code>--sort-cpu-avmem</code></dt>

    <dd>
      <p>Sort the output by cpu time average memory usage.</p>
    </dd>

    <dt><code>-K</code></dt>

    <dt><code>--sort-ksec</code></dt>

    <dd>
      <p>Print and sort the output by the cpu-storage integral.</p>
    </dd>

    <dt><code>-l</code></dt>

    <dt><code>--separate-times</code></dt>

    <dd>
      <p>Print separate columns for system and user time; usually
      the two are added together and listed as
      <code>cpu</code>.</p>
    </dd>

    <dt><code>-m</code></dt>

    <dt><code>--user-summary</code></dt>

    <dd>
      <p>Print the number of processes and number of CPU minutes on
      a per-user basis.</p>
    </dd>

    <dt><code>-n</code></dt>

    <dt><code>--sort-num-calls</code></dt>

    <dd>
      <p>Sort the output by the number of calls. This is the
      default sorting method.</p>
    </dd>

    <dt><code>-p</code></dt>

    <dt><code>--show-paging</code></dt>

    <dd>
      <p>Print the number of minor and major pagefaults and
      swaps.</p>
    </dd>

    <dt><code>-P</code></dt>

    <dt><code>--show-paging-avg</code></dt>

    <dd>
      <p>Print the number of minor and major pagefaults and swaps
      divided by the number of calls.</p>
    </dd>

    <dt><code>-r</code></dt>

    <dt><code>--reverse-sort</code></dt>

    <dd>
      <p>Sort output items in reverse order.</p>
    </dd>

    <dt><code>-s</code></dt>

    <dt><code>--merge</code></dt>

    <dd>
      <p>Merge the summarized accounting data into the summary
      files <code>savacct</code> and <code>usracct</code>.</p>
    </dd>

    <dt><code>-t</code></dt>

    <dt><code>--print-ratio</code></dt>

    <dd>
      <p>For each entry, print the ratio of real time to the sum of
      system and user times. If the sum of system and user times is
      too small to report--the sum is zero--<code>*ignore*</code>
      will appear in this field.</p>
    </dd>

    <dt><code>-u</code></dt>

    <dt><code>--print-users</code></dt>

    <dd>
      <p>For each command in the accounting file, print the userid
      and command name. After printing all entries, quit.
      <strong>Note</strong>: this flag supersedes all others.</p>
    </dd>

    <dt><code>-v <var>num</var></code></dt>

    <dt><code>--threshold <var>num</var></code></dt>

    <dd>
      <p>Print commands which were executed <var>num</var> times or
      fewer and await a reply from the terminal. If the response
      begins with <code>y</code>, add the command to the
      <code>**junk**</code> group.</p>
    </dd>

    <dt><code>--separate-forks</code></dt>

    <dd>
      <p>It really doesn't make any sense to me that the stock
      version of <code>sa</code> separates statistics for a
      particular executable depending on whether or not that
      command forked. Therefore, GNU <code>sa</code> lumps this
      information together unless this option is specified.</p>
    </dd>

    <dt><code>--sort-real-time</code></dt>

    <dd>
      <p>Sort the output by the "real time" (elapsed time) for each
      command.</p>
    </dd>

    <dt><code>--ahz <var>hz</var></code></dt>

    <dd>
      <p>Use this flag to tell the program what <code>AHZ</code>
      should be (in hertz). This option is useful if you are trying
      to view an <code>acct</code> file created on another machine
      which has the same byte order and file format as your current
      machine, but has a different value for <code>AHZ</code>.</p>
    </dd>

    <dt><code>--debug</code></dt>

    <dd>
      <p>Print verbose internal information.</p>
    </dd>

    <dt><code>-V</code></dt>

    <dt><code>--version</code></dt>

    <dd>
      <p>Print <code>sa</code>'s version number.</p>
    </dd>

    <dt><code>-h</code></dt>

    <dt><code>--help</code></dt>

    <dd>
      <p>Print <code>sa</code>'s usage string and default locations
      of system files to standard output.</p>
    </dd>
  </dl>

  <p><strong>Note</strong>: if more than one sorting option is
  specified, the list will be sorted by the one specified last on
  the command line.</p>
  <hr size="6">
  <a name="SEC22" id="SEC22"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC21" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC23" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC20" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC20" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC24" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h2 class="section">5.2 Problems</h2>

  <p>I haven't been able to test this on many different machines
  because the data files grow so big in a short time; our sysadmin
  would rather save the disk space.</p>

  <p>Most versions of <code>sa</code> that I've tested don't pay
  attention to flags like <code>--print-seconds</code> and
  <code>--sort-num-calls</code> when printing out commands when
  combined with the <code>--user-summary</code> or
  <code>--print-users</code> flags. GNU <code>sa</code> pays
  attention to these flags if they are applicable.</p>
  <hr size="6">
  <a name="SEC23" id="SEC23"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC22" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC24" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC20" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC22" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC24" title=
      "Next chapter">&gt;&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h3 class="subsection">5.2.1 mips sa</h3>

  <p>The average memory use is stored as a short rather than a
  double, so we suffer from round-off errors. GNU <code>sa</code>
  uses double the whole way through.</p>
  <hr size="6">
  <a name="dump_002dacct" id="dump_002dacct"></a> <a name="SEC24"
  id="SEC24"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC23" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ <a href="#SEC25" title=
      "Next section in reading order">&gt;</a> ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC20" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC1" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ &gt;&gt; ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h1 class="chapter">6. <code>dump-acct</code></h1>

  <p><code>dump-acct</code> dumps some of the contents of one or
  more <code>acct</code> files in human readable form. Usage:</p>

  <p><code>dump-acct [<var>opts</var>] <var>files</var></code></p>

  <p>Unless called with the <code>--raw</code> option, it prints a
  table with the following fields, separated by vertical
  bars(<code>|</code>):</p>

  <dl compact="compact">
    <dt><code>ac_comm</code></dt>

    <dd>
      <p>name of the executed program</p>
    </dd>

    <dt><code>ac_version</code></dt>

    <dd>
      <p>version of the <code>acct</code> file format</p>
    </dd>

    <dt><code>ac_utime</code></dt>

    <dd>
      <p>user time</p>
    </dd>

    <dt><code>ac_stime</code></dt>

    <dd>
      <p>system time</p>
    </dd>

    <dt><code>ac_etime</code></dt>

    <dd>
      <p>elapsed time</p>
    </dd>

    <dt><code>ac_uid</code></dt>

    <dd>
      <p>user id</p>
    </dd>

    <dt><code>ac_gid</code></dt>

    <dd>
      <p>group id</p>
    </dd>

    <dt><code>ac_mem</code></dt>

    <dd>
      <p>(average) memory usage</p>
    </dd>

    <dt><code>ac_io</code></dt>

    <dd>
      <p>number of characters transferred on input/output</p>
    </dd>

    <dt><code>ac_pid</code></dt>

    <dd>
      <p>process id</p>
    </dd>

    <dt><code>ac_ppid</code></dt>

    <dd>
      <p>parent's process id</p>
    </dd>
  </dl>

  <p>All times will be given in platform dependent units
  ("<code>AHZ</code>"). Not all of the above columns will actually
  appear, depending on what information your operating system
  provides in it's <code>struct acct</code>.</p>
  <hr size="6">
  <a name="SEC25" id="SEC25"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[ <a href="#SEC24" title=
      "Previous section in reading order">&lt;</a> ]</td>

      <td valign="middle" align="left">[ &gt; ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[ <a href="#SEC24" title=
      "Beginning of this chapter or previous chapter">&lt;&lt;</a>
      ]</td>

      <td valign="middle" align="left">[ <a href="#SEC24" title=
      "Up section">Up</a> ]</td>

      <td valign="middle" align="left">[ &gt;&gt; ]</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">&nbsp;</td>

      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h2 class="section">6.1 Flags</h2>

  <dl compact="compact">
    <dt><code>--ahz <var>hz</var></code></dt>

    <dd>
      <p>Use this flag to tell the program what <code>AHZ</code>
      should be (in Hertz). This option is useful if you are trying
      to view an <code>acct</code> file created on another machine
      which has a different value for <code>AHZ</code>.</p>
    </dd>

    <dt><code>--byteswap</code></dt>

    <dd>
      <p>Swap the bytes (relative to your system's native byte
      order) in <code>--raw</code> output.</p>
    </dd>

    <dt><code>--format</code></dt>

    <dd>
      <p>Set output format with <code>--raw</code> option.</p>
    </dd>

    <dt><code>-n <var>num</var></code></dt>

    <dt><code>--num <var>num</var></code></dt>

    <dd>
      <p>Limit the number of lines (or records with
      <code>--raw</code>) to print.</p>
    </dd>

    <dt><code>-r</code></dt>

    <dt><code>--reverse</code></dt>

    <dd>
      <p>Read the accounting file backwards (print latest record
      first).</p>
    </dd>

    <dt><code>-R</code></dt>

    <dt><code>--raw</code></dt>

    <dd>
      <p>Don't print human readable output, dump the raw record
      instead. Useful to convert between different Linux file
      formats (see below).</p>
    </dd>

    <dt><code>-h</code></dt>

    <dt><code>--help</code></dt>

    <dd>
      <p>Print <code>dump-acct</code>'s usage string and default
      location of the accouning file to standard output.</p>
    </dd>
  </dl>

  <p><code>--byteswap</code> and <code>--format</code> options are
  only available with Linux multiformat support. They only affect
  <em>output</em> with the <code>--raw</code> option, format and
  byte order of the input are automatically detected. Thus they are
  useful to convert between different file formats.</p>

  <p>The <code>--ahz</code> option affects input and output (except
  for v3 file format, which by definition is fixed to
  <code>AHZ=100</code>). If you ever need to convert between
  different <code>AHZ</code> values, use a two-step process: First
  convert to v3 format with the <em>old</em> <code>AHZ</code>
  value, then convert to the desired output format with the
  <em>new</em> <code>AHZ</code> setting.</p>
  <hr size="6">
  <a name="SEC_Contents" id="SEC_Contents"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h1>Table of Contents</h1>

  <div class="contents">
    <ul class="toc">
      <li>
        <a name="TOC1" href="#SEC1" id="TOC1">Preface</a>

        <ul class="toc">
          <li><a name="TOC2" href="#SEC2" id="TOC2">A Note on File
          Names and Locations</a></li>

          <li><a name="TOC3" href="#SEC3" id="TOC3">Support for
          Multiple Accounting File Formats under Linux</a></li>

          <li><a name="TOC4" href="#SEC4" id="TOC4">History of the
          Accounting Utilities</a></li>
        </ul>
      </li>

      <li>
        <a name="TOC5" href="#SEC5" id="TOC5">1.
        <code>ac</code></a>

        <ul class="toc">
          <li><a name="TOC6" href="#SEC6" id="TOC6">1.1
          Flags</a></li>

          <li>
            <a name="TOC7" href="#SEC7" id="TOC7">1.2 Problems</a>

            <div class="toc c1">
              <ul class="toc">
                <li><a name="TOC8" href="#SEC8" id="TOC8">The FTP
                Problem</a></li>

                <li><a name="TOC9" href="#SEC9" id="TOC9">The
                Shutdown/Reboot Problem</a></li>

                <li><a name="TOC10" href="#SEC10" id="TOC10">Stupid
                System V Machines</a></li>
              </ul>
            </div>
          </li>
        </ul>
      </li>

      <li>
        <a name="TOC11" href="#SEC11" id="TOC11">2.
        <code>accton</code></a>

        <ul class="toc">
          <li><a name="TOC12" href="#SEC12" id="TOC12">2.1
          Flags</a></li>
        </ul>
      </li>

      <li>
        <a name="TOC13" href="#SEC13" id="TOC13">3.
        <code>last</code></a>

        <ul class="toc">
          <li><a name="TOC14" href="#SEC14" id="TOC14">3.1
          Flags</a></li>

          <li>
            <a name="TOC15" href="#SEC15" id="TOC15">3.2
            Problems</a>

            <div class="toc c1">
              <ul class="toc">
                <li><a name="TOC16" href="#SEC16" id="TOC16">The
                Clock Change Problem</a></li>

                <li><a name="TOC17" href="#SEC17" id="TOC17">The
                Ftp Problem</a></li>
              </ul>
            </div>
          </li>
        </ul>
      </li>

      <li>
        <a name="TOC18" href="#SEC18" id="TOC18">4.
        <code>lastcomm</code></a>

        <ul class="toc">
          <li><a name="TOC19" href="#SEC19" id="TOC19">4.1
          Flags</a></li>
        </ul>
      </li>

      <li>
        <a name="TOC20" href="#SEC20" id="TOC20">5.
        <code>sa</code></a>

        <ul class="toc">
          <li><a name="TOC21" href="#SEC21" id="TOC21">5.1
          Flags</a></li>

          <li>
            <a name="TOC22" href="#SEC22" id="TOC22">5.2
            Problems</a>

            <ul class="toc">
              <li><a name="TOC23" href="#SEC23" id="TOC23">5.2.1
              mips sa</a></li>
            </ul>
          </li>
        </ul>
      </li>

      <li>
        <a name="TOC24" href="#SEC24" id="TOC24">6.
        <code>dump-acct</code></a>

        <ul class="toc">
          <li><a name="TOC25" href="#SEC25" id="TOC25">6.1
          Flags</a></li>
        </ul>
      </li>
    </ul>
  </div>
  <hr size="1">
  <a name="SEC_About" id="SEC_About"></a>

  <table cellpadding="1" cellspacing="1" border="0">
    <tr>
      <td valign="middle" align="left">[<a href="#SEC1" title=
      "Cover (top) of document">Top</a>]</td>

      <td valign="middle" align="left">[<a href="#SEC_Contents"
      title="Table of contents">Contents</a>]</td>

      <td valign="middle" align="left">[Index]</td>

      <td valign="middle" align="left">[ <a href="#SEC_About"
      title="About (help)">?</a> ]</td>
    </tr>
  </table>

  <h1>About This Document</h1>

  <p>This document was generated on <i>February, 6 2010</i> using
  <a class="c2" href="http://texi2html.cvshome.org/">texi2html
  1.76</a>.</p>

  <p>The buttons in the navigation panels have the following
  meaning:</p>

  <table border="1">
    <tr>
      <th>Button</th>

      <th>Name</th>

      <th>Go to</th>

      <th>From 1.2.3 go to</th>
    </tr>

    <tr>
      <td align="center">[ &lt; ]</td>

      <td align="center">Back</td>

      <td>previous section in reading order</td>

      <td>1.2.2</td>
    </tr>

    <tr>
      <td align="center">[ &gt; ]</td>

      <td align="center">Forward</td>

      <td>next section in reading order</td>

      <td>1.2.4</td>
    </tr>

    <tr>
      <td align="center">[ &lt;&lt; ]</td>

      <td align="center">FastBack</td>

      <td>beginning of this chapter or previous chapter</td>

      <td>1</td>
    </tr>

    <tr>
      <td align="center">[ Up ]</td>

      <td align="center">Up</td>

      <td>up section</td>

      <td>1.2</td>
    </tr>

    <tr>
      <td align="center">[ &gt;&gt; ]</td>

      <td align="center">FastForward</td>

      <td>next chapter</td>

      <td>2</td>
    </tr>

    <tr>
      <td align="center">[Top]</td>

      <td align="center">Top</td>

      <td>cover (top) of document</td>

      <td>&nbsp;</td>
    </tr>

    <tr>
      <td align="center">[Contents]</td>

      <td align="center">Contents</td>

      <td>table of contents</td>

      <td>&nbsp;</td>
    </tr>

    <tr>
      <td align="center">[Index]</td>

      <td align="center">Index</td>

      <td>index</td>

      <td>&nbsp;</td>
    </tr>

    <tr>
      <td align="center">[ ? ]</td>

      <td align="center">About</td>

      <td>about (help)</td>

      <td>&nbsp;</td>
    </tr>
  </table>

  <p>where the <strong>Example</strong> assumes that the current
  position is at <strong>Subsubsection One-Two-Three</strong> of a
  document of the following structure:</p>

  <ul>
    <li>1. Section One

      <ul>
        <li>1.1 Subsection One-One

          <ul>
            <li>...</li>
          </ul>
        </li>

        <li>1.2 Subsection One-Two

          <ul>
            <li>1.2.1 Subsubsection One-Two-One</li>

            <li>1.2.2 Subsubsection One-Two-Two</li>

            <li>1.2.3 Subsubsection One-Two-Three &nbsp; &nbsp;
            <strong>&lt;== Current Position</strong></li>

            <li>1.2.4 Subsubsection One-Two-Four</li>
          </ul>
        </li>

        <li>1.3 Subsection One-Three

          <ul>
            <li>...</li>
          </ul>
        </li>

        <li>1.4 Subsection One-Four</li>
      </ul>
    </li>
  </ul>
  <hr size="1">

  <p><span class="c3">This document was generated on <i>February, 6
  2010</i> using <a class="c2" href=
  "http://texi2html.cvshome.org/">texi2html
  1.76</a>.</span><br></p>
</body>
</html>
